<div class="w3-display-container w3-bar-block content">
    <div class="w3-bar-item" *ngIf="action === 'new_stock'">
        <h2>New Stock</h2>
        <label>Name:</label>
        <input class="w3-input w3-margin-bottom" [(ngModel)]="creating_stock.name"[ngClass]="{
                            'w3-margin-bottom': unique_names,
                            'w3-red': !unique_names
                        }">
        <label class="warning w3-margin-bottom" *ngIf="!unique_names">Names must be unique <br></label>
        <label>Type:</label>
        <select class="w3-select w3-margin-bottom" [(ngModel)]="creating_stock.type"
                (change)="get_req_params()">
            <option *ngFor="let example_stock of stocks_info" value={{example_stock.type}}>
                {{example_stock.name}}
            </option>
        </select>
        <label>Quantity:</label>
        <input class="w3-input w3-margin-bottom" type="number" [(ngModel)]="creating_stock.quantity">
        <label>Start price</label>
        <input class="w3-input w3-margin-bottom" [(ngModel)]="creating_stock.start_price">
        <div *ngFor="let param of creating_stock.params; let i = index">
            <label>{{param.text}}</label>
            <input [(ngModel)]="creating_stock.params[i].value" class="w3-input w3-margin-bottom">
        </div>
        <button class="w3-block white_button" (click)="saveStock()">Сохранить</button>
    </div>
    <div class="w3-bar-item" *ngIf="action === 'new_broker'">
        <h2>New Broker</h2>
        <label>Name:</label>
        <input class="w3-input w3-margin-bottom" [(ngModel)]="creating_broker.name" [ngClass]="{
                            'w3-margin-bottom': unique_names,
                            'w3-red': !unique_names
                        }">
        <label class="warning w3-margin-bottom" *ngIf="!unique_names">Names must be unique <br></label>
        <label>Type:</label>
        <select class="w3-select w3-margin-bottom" [(ngModel)]="creating_broker.type">
            <option *ngFor="let example_broker of brokers_info" value={{example_broker.type}}>
                {{example_broker.name}}
            </option>
        </select>
        <label>Money:</label>
        <input class="w3-input w3-margin-bottom" [(ngModel)]="creating_broker.money">
        <button class="w3-block white_button" (click)="saveBroker()">Сохранить</button>
    </div>
    <button class="w3-bar-item black_button" (click)="onToggleNewStock()">Add stock</button>
    <button class="w3-bar-item black_button" (click)="onToggleNewBroker()">Add broker</button>
    <button class="w3-bar-item red_button">Reset simulation</button>
</div>
